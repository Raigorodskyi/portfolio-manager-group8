<div class="dashboard-container">
  <!-- Header (optional) -->
  <div class="dashboard-header">
    <h1>My Portfolio</h1>
    <nav>
      <a href="#" class="active">Overview</a>
      <a href="#">Profile</a>
    </nav>
  </div>

  <div class="dashboard-grid">
    <!-- Top Left -->
    <div class="portfolio-box">
      <div class="portfolio-content">
        <div class="chart-container" *ngIf="isBrowser">
          <canvas
            baseChart
            [data]="pieChartData"
            [type]="pieChartType"
          ></canvas>
        </div>
      
        <div class="stats">
          <div class="value">${{this.globalValue | number:'1.2-2'}}</div>
          <div class="gain">+3.5% Today</div>
          <div class="return">+12.2% Overall</div>
        </div>
      </div>
      
    </div>

    <!-- Bottom Left -->
    <div class="your-stocks-box">
      <button class="view-button" [routerLink]="['/stocks']">View</button>
      <h2>Your Stocks</h2>
      <table>
        <thead>
          <tr>
            <th>Ticker</th>
            <th>Name</th>
            <th>Shares</th>
            <th>Purchase Price</th>
            <th>Current Price</th>
            <th>Difference</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let stock of stockList">
            <td>{{ stock.ticker }}</td>
            <td>{{ stock.data.stock_name }}</td>
            <td>{{ stock.data.shares }}</td>
            <td>{{ stock.data.purchase_price | currency }}</td>
            <td>{{ stock.data.current_price | currency }}</td>
            <td>{{ getGainLoss(stock.data) | currency }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Right Side Full Height -->
    <div class="top-performers-box">
      <h2>Top Performers</h2>
      <table>
        <thead>
          <tr>
            <th>Ticker</th>
            <th>Change</th>
            <th>Percentage</th>
          </tr>
        </thead>
        <tbody>
          <tr><th>Apple</th><td>$9.266</td><td>5%</td></tr>
          <tr><th>MSFT</th><td>$3,571.75</td><td>1.45%</td></tr>
          <tr><th>TSLA</th><td>$28,383.75</td><td>3.33%</td></tr>
        </tbody>
      </table>
    </div>
    <div class="your-bonds-box">
      <h2>Your Bonds</h2>
      <button class="view-button"  [routerLink]="['/bonds']">View</button>
      <table>
        <thead>
          <tr>
            <th>Bond Name</th>
            <th>Purchase Cost</th>
            <th>Bond Ticker</th>
            <th>Current Market Price</th>
            <th>Maturity Date</th>
            <th>Number of Bonds</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let bond of bonds">
            <td>{{ bond['Bond Name'] }}</td>
            <td>{{ bond['Bond Amount (Purchase Price)'] }}</td>
            <td>{{ bond['Bond Ticker'] }}</td>
            <td>{{ bond['Current Market Price'] }}</td>
            <td>{{ bond['Maturity Date'] }}</td>
            <td>{{ bond['Number of Bonds'] }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
